{% extends "base.html" %}

{% block content %}
  <div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <div>
        <h1 class="display-4">{{ seller.client.username }}</h1>
        <h2 class="h5 text-muted">License: <span class="badge badge-info">{{ seller.seller_license }}</span></h2>
        {% if seller.client == user %}
        <h3 class="h5 text-muted">Edit seller
          <a href="{% url 'cars:seller-update' pk=seller.pk %}">?</a>
        </h3>
        {% endif %}
      </div>
      {% if seller.client == user %}
        <a href="{% url 'cars:seller-delete' pk=seller.pk %}" class="btn btn-danger">
          Delete profile
        </a>
      {% endif %}
    </div>

    <hr>

    <h3 class="mb-3">Inventory</h3>
    {% if seller.client == user %}
    <a href="{% url 'cars:car-create' %}">+</a>
    {% endif %}
    <div class="table-responsive">
      <table class="table table-hover">
        <thead class="thead-light">
        <tr>
          <th>Manufacturer</th>
          <th>Model</th>
          <th>Year</th>
          <th>Mileage</th>
        </tr>
        </thead>
        <tbody>
        {% for car in seller.cars.all %}
          <tr style="cursor: pointer;" onclick="window.location='{% url 'cars:car-detail' pk=car.pk %}'">
            <td>{{ car.manufacturer.name }}</td>
            <td>{{ car.model }}</td>
            <td>{{ car.year }}</td>
            <td>{{ car.mileage }}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}